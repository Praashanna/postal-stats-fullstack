const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/header-BgjSUCNG.js","assets/index-Zj0G14S6.js","assets/index-DCobbOMk.css","assets/status-badge-xNNKchnC.js","assets/select-DMf6T86T.js","assets/index-B82Zn32Q.js","assets/index-BjXV6YfW.js","assets/createLucideIcon-D9ZVc89k.js","assets/period-utils-BcxLB-Yh.js","assets/mail-DtWyjsKq.js","assets/stats-cards-DL7UMXvO.js","assets/card-CFRx6dn9.js","assets/error-state-DNo3eU61.js","assets/chart-section-jhcqe_Fe.js","assets/top-bounced-domains-DuNBN_in.js","assets/badge-g8IyCj-H.js","assets/index-BtZ3OtX6.js"])))=>i.map(i=>d[i]);
import{a as p,q as h,x,y as f,s as g,j as e,r as o,_ as m,l as j}from"./index-Zj0G14S6.js";import{S as v}from"./index-DCoHl5RN.js";import{E as _}from"./error-state-DNo3eU61.js";import{c as S}from"./createLucideIcon-D9ZVc89k.js";import"./mail-DtWyjsKq.js";/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=S("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);function y(a){const t=p(),{period:r,setPeriod:i}=h(),s=x(a,r),d=f(a),n=g(a,r),l=()=>{t(`/server/${a}/bounces/domain`)},u=c=>{i(c)};return{period:r,server:d.data,serverData:s.data,overviewData:n.data,isLoading:s.isLoading||n.isLoading,error:s.error||n.error,isPartiallyLoading:s.isLoading||n.isLoading,handleViewAllDomains:l,handlePeriodChange:u}}function D({isLoading:a}){return a?e.jsxs("div",{className:"flex items-center justify-center p-4",children:[e.jsx(L,{className:"h-4 w-4 animate-spin mr-2"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."})]}):null}const P=o.lazy(()=>m(()=>import("./header-BgjSUCNG.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),E=o.lazy(()=>m(()=>import("./stats-cards-DL7UMXvO.js"),__vite__mapDeps([10,1,2,11,8,9,7,12]))),N=o.lazy(()=>m(()=>import("./chart-section-jhcqe_Fe.js"),__vite__mapDeps([13,1,2,11,8]))),b=o.lazy(()=>m(()=>import("./top-bounced-domains-DuNBN_in.js"),__vite__mapDeps([14,1,2,11,15,5,16,8])));function k({serverId:a,server:t,serverData:r,overviewData:i,period:s,isPartiallyLoading:d,onPeriodChange:n,onViewAllDomains:l}){return e.jsxs("div",{className:"w-full p-6 space-y-6",children:[e.jsx(o.Suspense,{fallback:e.jsx("div",{className:"h-20 animate-pulse bg-muted rounded"}),children:e.jsx(P,{serverName:(t==null?void 0:t.name)||`Server ${a}`,serverStatus:(t==null?void 0:t.status)||"unknown",period:s,onPeriodChange:n})}),e.jsx(o.Suspense,{fallback:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[...Array(3)].map((u,c)=>e.jsx("div",{className:"h-24 animate-pulse bg-muted rounded"},c))}),children:e.jsx(E,{data:r,period:s,serverId:a})}),r.timeSeriesData&&e.jsx(o.Suspense,{fallback:e.jsx("div",{className:"h-64 animate-pulse bg-muted rounded"}),children:e.jsx(N,{data:r.timeSeriesData,period:s})}),i&&e.jsx(o.Suspense,{fallback:e.jsx("div",{className:"h-48 animate-pulse bg-muted rounded"}),children:e.jsx(b,{data:i,period:s,onViewAll:l})}),e.jsx(D,{isLoading:d})]})}function T(){const{serverId:a}=j();if(!a)return e.jsx("div",{className:"p-6",children:"Please select a server from the sidebar."});const{period:t,server:r,serverData:i,overviewData:s,isLoading:d,error:n,isPartiallyLoading:l,handleViewAllDomains:u,handlePeriodChange:c}=y(a);return d&&!i&&!s||!i?e.jsx(v,{}):n?e.jsx(_,{error:n}):e.jsx(k,{serverId:a,server:r,serverData:i,overviewData:s,period:t,isPartiallyLoading:l,onPeriodChange:c,onViewAllDomains:u})}export{T as DataWrapper,T as default};
